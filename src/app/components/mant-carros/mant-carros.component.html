<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8">
	<title>Mantenimiento Carros</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
	  integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
  </head>

<body>
	<h1 style="text-align: center; font-family: Courier New, monospace; font-size: 50px;">Mantenimiento Carros</h1>
	<br>
	<div style="font-family: Courier New, monospace;" class="d-flex">
		<div class="card col-sm-3">
			<div class="card-body">
				<form [formGroup]="formCarro" (submit)="guardarCarro()">
					<input style="display: none" type="text" name="id" id="id" formControlName="id"
						class="form-control">
					<div class="form-group">
						<label>Descripcion</label>
						<input type="text" name="descripcion" id="txtDescripcion" placeholder="Ingrese una Descripción"
							formControlName="descripcion" class="form-control">
					</div>
					<div class="form-group">
						<label>Modelo</label>
						<input type="text" name="modelo" id="txtModelo" placeholder="Ingrese un modelo"
							formControlName="modelo" class="form-control">
					</div>
					<div class="form-group" formGroupName="objMarca">
						<label>Marca</label>
						<select class="form-control" formControlName="idmarca" id="idmarca" name="cmbMarca">
							<option value="-1">Seleccione...</option>
							<option *ngFor="let marca of objMarca" [ngValue]="marca">
								{{ marca.descripcion }}
							</option>
						</select>
					</div>
					<div class="form-group">
						<label>Origen</label>
						<input type="text" name="origen" id="txtOrigen" placeholder="Ingrese un origen"
							formControlName="origen" class="form-control">
					</div>

					<div class="form-group">
						<label>Combustible</label>
						<input type="text" name="combustible" id="txtCombustible" placeholder="Ingrese un Combustible"
							formControlName="combustible" class="form-control">
					</div>

					<div class="form-group">
						<label>Precio</label>
						<input type="text" step="0.01" pattern="[0-9]+([.][0-9]{1,2})?" name="precio" id="txtPrecio"
							placeholder="Ingrese un Precio" formControlName="precio" class="form-control">
					</div>

					<div class="form-group">
						<label>Stock</label>
						<input type="number" pattern="[1-9]+[0-9]*" name="stock" id="txtStock"
							placeholder="Ingrese un stock" formControlName="stock" class="form-control">
					</div>

					<div class="form-group">
						<label>Año</label>
						<input type="number" pattern="[0-9]{4}" name="anio" id="txtAnio" placeholder="Ingrese un año"
							formControlName="anio" class="form-control">
					</div>

					<div class="form-group">
						<label>Nro. de Serie</label>
						<input type="text" pattern="^[A-Z0-9]{17}$" name="nroSerie" id="txtNroSerie"
							placeholder="Ingrese un Número de Serie" formControlName="nroSerie" class="form-control">
					</div>
					<button type="submit" name="accion" class="btn btn-primary"><i
							class="bi bi-plus"></i>Agregar</button>
					<button type="button" name="accion" (click)="actualizarCarro()" class="btn btn-success mx-1"><i
							class="bi bi-arrow-clockwise"></i> Actualizar
					</button>
				</form>
				<br> <!---->
			</div>
		</div>
		<div class="col-sm-10" style="overflow-x: auto; max-width: 100%;">
			<table class="table table-hover" style="max-width: 100%;">
				<thead class="thead-dark">
					<tr>
						<th style="max-width: 1px;">id</th>
						<th style="max-width: 140px;">DESCRIPCIÓN</th>
						<th style="max-width: 50px;">MODELO</th>
						<th style="max-width: 10px;">ORIGEN</th>
						<th style="max-width: 40px;">COMBUSTIBLE</th>
						<th style="max-width: 30px;">MARCA</th>
						<th style="max-width: 10px;">PRECIO</th>
						<th style="max-width: 10px;">STOCK</th>
						<th style="max-width: 10px;">AÑO</th>
						<th style="max-width: 60px;">NRO. SERIE</th>
						<th style="max-width: 90px;">ACCIONES</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let c of lstCarros">
						<td style="max-width: 1px; overflow: hidden; text-overflow: ellipsis;">{{c.id}}</td>
						<td style="max-width: 140px; overflow: hidden; text-overflow: ellipsis;">{{c.descripcion}}</td>
						<td style="max-width: 50px; overflow: hidden; text-overflow: ellipsis;">{{c.modelo}}</td>
						<td style="max-width: 10px; overflow: hidden; text-overflow: ellipsis;">{{c.origen}}</td>
						<td style="max-width: 40px; overflow: hidden; text-overflow: ellipsis;">{{c.combustible}}</td>
						<td style="max-width: 30px; overflow: hidden; text-overflow: ellipsis;">
							{{c.objMarca.descripcion}}</td>
						<td style="max-width: 10px; overflow: hidden; text-overflow: ellipsis;">{{c.precio}}</td>
						<td style="max-width: 10px; overflow: hidden; text-overflow: ellipsis;">{{c.stock}}</td>
						<td style="max-width: 10px; overflow: hidden; text-overflow: ellipsis;">{{c.anio}}</td>
						<td style="max-width: 60px; overflow: hidden; text-overflow: ellipsis;">{{c.nroSerie}}</td>
						<td style="max-width: 90px;">
							<button class="btn btn-primary mx-1" (click)="ecargarCarro(c)">
								<i class="bi bi-pencil"></i>
							</button>
							<button class="btn btn-danger" (click)="eliminarCarro(c.id)">
								<i class="bi bi-trash"></i>
							</button>
						</td>
					</tr>
				</tbody>
			</table>

		</div>
	</div>
</body>

</html>